# 轮盘赌算法


### 1.选择过程

轮盘赌选择方法也称作比例选择方法，依据为各个个体被选择的概率与其适应度大小成正比。

设有 $$n$$ 个选择待选择对象 $$\{x_1,x_2,\cdots,x_n\}$$ ，其适应度值分别为 $$\{f(x_1),f(x_2),\cdots,f(x_n)\}$$ ，则其选择概率 $$P$$ :


$$
P_i={f(x_i)\over \sum_{j=1}^nf(x_j)}\tag{1}
$$


不难得知 $$\sum_{i=1}^nP_i=1$$ ，将选择对象按序排列后，计算器累积概率 $$Q$$ :


$$
Q_i=\sum_{j=1}^iP_j\tag{2}
$$


则有 $$Q_1=P_1, \cdots, Q_n=1$$ ；此时进行选择，在 $$(0,1)$$ 内随机产生一个数 $$m$$ ，将其与累积概率向量进行逐一比较，从第 $$1$$ 项开始，第 $$n$$ 项结束。首次使得 $$Q_i\geqslant m$$ 的 $$i$$ 对应的 $$x_i$$ 即为选择结果 $$R$$ 。

### 2.实例及代码实现

```MATLAB
fitvalue=[4 3 2 1]; %奖项对应的适应度值
totalf=sum(fitvalue); %适应值之和
p=fitvalue./totalf; %单个个体被选中的概率
q=cumsum(p); %每个个体的累积概率
c1=0; %用于存放编号1被选中的次数
c2=0; %用于存放编号2被选中的次数
c3=0; %用于存放编号3被选中的次数
c4=0; %用于存放编号4被选中的次数
while c1+c2+c3+c4<=996
    fitin=1;
    newin=1;
    m=sort(rand(4,1)); %生成一组从小到大排列的随机数组
    while newin<=4
        if q(fitin)>m(newin)
            switch fitin
                case 1
                    c1=c1+1;
                case 2
                    c2=c2+1;
                case 3
                    c3=c3+1;
                case 4
                    c4=c4+1;
            end
            newin=newin+1;
        else
            fitin=fitin+1;
        end
    end
end
disp('***************************************')
disp(['抽中“参与奖”的次数为：',num2str(c1)]);
disp(['抽中“参与奖”的概率为：',num2str(c1/(c1+c2+c3+c4))]);
disp('***************************************')
disp(['抽中“三等奖”的次数为：',num2str(c2)]);
disp(['抽中“三等奖”的概率为：',num2str(c2/(c1+c2+c3+c4))]);
disp('***************************************')
disp(['抽中“二等奖”的次数为：',num2str(c3)]);
disp(['抽中“二等奖”的概率为：',num2str(c3/(c1+c2+c3+c4))]);
disp('***************************************')
disp(['抽中“一等奖”的次数为：',num2str(c4)]);
disp(['抽中“一等奖”的概率为：',num2str(c4/(c1+c2+c3+c4))]);
disp('***************************************')
```




